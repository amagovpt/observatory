<section *ngIf="globalData" fxLayout="row" fxLayoutAlign="center center">
  <div class="table-wrapper">
    <h2>{{ "DIRECTORIES.table.title" | translate }}</h2>
    <table matSort matSortActive="rank" matSortDisableClear (matSortChange)="sortData($event)">
      <caption>{{ "DIRECTORIES.table.title" | translate }}</caption>
      <thead>
        <tr>
          <th mat-sort-header="rank">
            {{ "DIRECTORIES.table.rank" | translate }}
          </th>
          <th class="name" mat-sort-header="name">
            {{ "DIRECTORIES.table.name" | translate }}
          </th>
          <th mat-sort-header="declaration"  matTooltip="{{ 'DIRECTORY.table.declaration' | translate }}" matTooltipClass="tooltip-stamp-declaration" [matTooltipPosition]="'above'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" attr.aria-label="{{ 'TAG.table.declaration' | translate }}" aria-hidden="true"><path d="M15.62,17.59H4.47a.51.51,0,1,0,0,1H15.62a.51.51,0,0,0,0-1ZM4,18.09a.44.44,0,0,1,.2-.37.44.44,0,0,0,0,.74A.44.44,0,0,1,4,18.09Zm11.6.44h0Z" style="fill:#fff"/><path d="M15.62,19.76H4.47a.51.51,0,0,0,0,1H15.62a.51.51,0,0,0,0-1Zm0,1h0Z" style="fill:#fff"/><path d="M12.52,9.55a.51.51,0,0,0-.35-.15h0a.51.51,0,0,0-.35.15l-2.22,2.2-.86-.86a.53.53,0,0,0-.73,0,.52.52,0,0,0,0,.73l1.25,1.23a.48.48,0,0,0,.7,0l2.57-2.57A.52.52,0,0,0,12.52,9.55Zm.09.36a.45.45,0,0,0,0-.2A.45.45,0,0,1,12.61,9.92Zm-.75-.32.07-.05-.07.05L9.59,11.84ZM9.43,12.9a.45.45,0,0,0,.17,0h0A.45.45,0,0,1,9.43,12.9Z" style="fill:#fff"/><path d="M10.24,6.17h0a5,5,0,1,0,5,5A5,5,0,0,0,10.23,6.17Zm2.27,8.4a4,4,0,0,1-2.27.69h0a4.06,4.06,0,0,0,3.37-1.79A4.08,4.08,0,0,1,12.51,14.57Zm1.13.24-.26.23Zm-.38.32-.26.19Zm-.41.28-.26.16Zm-.42.24-.27.13Zm-.46.2-.27.1ZM6.36,10a4,4,0,0,0-.12,1.86A4,4,0,0,1,6.36,10ZM6.19,8.32,6.4,8Zm4-1.13a4,4,0,0,1,0,8h0a4,4,0,0,1,0-8ZM14.12,10h0Zm.08.31,0,.08ZM10.47,7.14h0Zm.44,0,.14,0Zm.43.09.11,0Zm.41.14.07,0Zm.4.19h0ZM8.5,6.55l.26-.1ZM9,6.4l.26-.07ZM7.61,7l.26-.16ZM8,6.74l.26-.13Zm-.84.52.25-.19Zm.16,6.81,0,0Zm-.26-.28h0Zm-.23-.31h0Zm-.21-.35h0Zm-.17-.34h0Zm-.13-.35v0Zm-.09-.32,0-.1Zm3.77,3.13h0Zm-.42,0-.21,0Zm-.43-.09-.17,0ZM8.81,15l-.15-.05Zm-.38-.17-.12-.06Zm-.37-.21-.08,0Zm-.34-.24-.06,0Zm6.59-3.17s0,0,0,0a4.08,4.08,0,0,0-.06-.64,4.07,4.07,0,0,1,.06.64h0a4,4,0,0,1-.49,1.93A4,4,0,0,0,14.31,11.2Zm0-2.78a5,5,0,0,0-.61-.73A5,5,0,0,1,14.35,8.43Zm.59,4.35c0,.12-.08.25-.13.37C14.86,13,14.9,12.9,14.94,12.78Zm-.19.48c0,.11-.1.22-.16.32C14.66,13.47,14.71,13.36,14.76,13.25Zm-.22.43c-.06.1-.12.21-.19.31C14.42,13.89,14.48,13.78,14.54,13.68Zm-4.3-7.45a5,5,0,0,1,1.48.23,5,5,0,0,0-1.48-.23h0Zm-.77.06.26,0ZM7.08,7.36l-.24.22Zm-.35.32-.23.25Zm-.61.73c-.06.09-.12.19-.18.29C6,8.61,6.05,8.51,6.12,8.41Zm-.25.41c-.05.09-.09.19-.14.29C5.77,9,5.82,8.92,5.87,8.82Zm-.21.43c0,.1-.08.21-.11.31C5.58,9.46,5.61,9.36,5.66,9.26Zm-.17.46c0,.1-.06.21-.08.31C5.43,9.92,5.46,9.82,5.49,9.71Zm-.12.48c0,.1,0,.19,0,.29C5.33,10.38,5.35,10.29,5.37,10.19Zm-.08.49c0,.09,0,.17,0,.26C5.28,10.86,5.28,10.77,5.29,10.68Zm4.93,5.49ZM11.49,16l-.26.07Zm-.5.1-.26,0Zm2.75-1.39.24-.27Zm.54-.64-.22.29Zm.9-2.36a5,5,0,0,0,0-.51h0A5,5,0,0,1,15.18,11.72Zm-.2,1c0-.13.07-.27.1-.4C15.05,12.42,15,12.56,15,12.69Zm.12-.48c0-.14,0-.28.07-.43C15.15,11.93,15.13,12.07,15.1,12.21Z" style="fill:#fff"/><path d="M17.22,2.78H2.86A2.87,2.87,0,0,0,0,5.63v15.5H0v.06A2.64,2.64,0,0,0,2.57,24l.29,0H4l.12,0H16l.12,0h1.1l.3,0a2.64,2.64,0,0,0,2.56-2.79V5.63A2.87,2.87,0,0,0,17.22,2.78ZM6,3.57H6ZM16.18,23.13H2.86a2,2,0,0,1-2-2V5.63a2,2,0,0,1,2-2H17.22a2,2,0,0,1,2,2V21.14a2,2,0,0,1-2,2h-1ZM14.06,3.57h0Zm5.22,17.56V5.63a2.06,2.06,0,0,0-2.06-2.06h0a2.06,2.06,0,0,1,2.06,2.06V21.14a2.06,2.06,0,0,1-2.06,2.06h0A2.06,2.06,0,0,0,19.28,21.14ZM14.07,2.83h0ZM2.86,23.93l-.29,0a2.6,2.6,0,0,1-2.5-2.73s0,0,0-.05h0V5.63a2.8,2.8,0,0,1,2.8-2.79h0A2.8,2.8,0,0,0,.06,5.63v15.5h0s0,0,0,.05a2.6,2.6,0,0,0,2.5,2.73l.29,0Zm1,0h0Zm12.1,0h0Zm.1,0h0Z" style="fill:#fff"/></svg>
          </th>
          <th mat-sort-header="stamp" matTooltip="{{ 'DIRECTORY.table.stamp' | translate }}" matTooltipClass="tooltip-stamp-declaration" [matTooltipPosition]="'above'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" attr.aria-label="{{ 'TAG.table.stamp' | translate }}" aria-hidden="true"><path d="M10.34,6.4h-.07A2,2,0,0,0,8.34,8.32a2,2,0,0,0,2,1.89h.09a2,2,0,0,0,2-1.89A2,2,0,0,0,10.34,6.4Zm1.4.66L11.66,7Zm.54,1.27a1.91,1.91,0,0,1,0,.19,1.91,1.91,0,0,0,0-.19,2,2,0,0,0,0-.2A1.94,1.94,0,0,1,12.27,8.33Zm0-.25s0-.09,0-.13S12.23,8,12.24,8.07Zm0-.2,0-.11Zm-.06-.18,0-.1Zm-.08-.17,0-.09ZM12,7.35l-.05-.08Zm-.11-.15-.06-.08Zm-.28,1.13h0ZM10.24,9.4A1.18,1.18,0,0,1,9.16,8.32a1.19,1.19,0,0,1,1.18-1.08h.1a1.18,1.18,0,0,1,1.08,1.08,1.19,1.19,0,0,1-1.18,1.08Zm1.29-.84,0,.07Zm-.32-1.9.08,0Zm.16.09.08.05Zm-.88-.3h0Zm.19,0,.1,0Zm.18,0,.09,0ZM11,6.6l.09,0Zm-1.53.9.08-.06Zm.19-.14.09,0Zm.21-.1.1,0Zm.23-.06h0Zm-1,.88,0-.07Zm.09-.22,0-.08Zm.13-.2.07-.07Zm-.26.66a1.24,1.24,0,0,0,.11.43,1.24,1.24,0,0,1-.11-.43Zm.16,1.53L9.19,9.8Zm-.15-.1L9,9.69Zm.3.19-.08,0Zm.34.14-.09,0ZM9.58,10,9.5,10Zm1.57-.86-.08.06ZM11,9.29l-.09,0Zm-.21.1-.1,0Zm-.23.06h0Zm.91-.66,0,.08Zm-.13.2-.07.07Zm-.14,1-.09,0Zm.45-.29-.07.06Zm-.14.11-.08.06Zm-.15.1-.08,0Zm.19-3,.07.06Zm-1.19-.41h0ZM8.56,7.61a1.93,1.93,0,0,0-.16.71h0A1.93,1.93,0,0,1,8.56,7.61Zm.19,1.75L8.7,9.28Zm-.1-.15,0-.09ZM8.57,9l0-.09ZM8.5,8.88l0-.1ZM8.45,8.7s0-.08,0-.12S8.44,8.66,8.45,8.7Zm0-.18q0-.09,0-.19Q8.4,8.42,8.41,8.52Zm.5,1L9,9.63ZM8.8,9.43l.06.07Zm1.53.73h0Zm-.49-.05.09,0Zm.18,0h0ZM11,10l-.09,0Zm-.18.05-.09,0Zm-.18,0h0Zm1-.5.07-.07Zm.56-1.06s0,.09,0,.13S12.24,8.61,12.24,8.57Zm0,.2,0,.11Zm-.06.18,0,.1Zm-.08.17,0,.09ZM12,9.28l-.05.08Zm-.1.15-.06.08Z" style="fill:#fff"/><path d="M16.4,10.86a1.09,1.09,0,0,0-1-.79l-.21,0a23.34,23.34,0,0,1-4,.3A51.38,51.38,0,0,1,5.39,10H5.26a1.08,1.08,0,0,0-1.06.87,1,1,0,0,0,.19.79,1.11,1.11,0,0,0,.75.42l.64.1A16,16,0,0,0,8,12.43c.19,0,.46.15.46.23l0,1.29a2.62,2.62,0,0,1-.14.8l-.93,4.69a1,1,0,0,0,.06.78,1.11,1.11,0,0,0,2-.1l1-3.19,1.11,3.24a1.07,1.07,0,0,0,1,.66h0a1.12,1.12,0,0,0,.38-.07h0a1,1,0,0,0,.66-1.3l-1.07-4.36a4.31,4.31,0,0,1-.23-1.49v-.9a.24.24,0,0,1,.24-.22h0a15.76,15.76,0,0,0,2.95-.31l.09,0a1.08,1.08,0,0,0,.72-.48A1,1,0,0,0,16.4,10.86Zm-.27-.36-.07-.08ZM12.61,20l-.12,0,.12,0h0ZM8.14,20a.31.31,0,0,1-.08-.1.26.26,0,0,1,0-.2l.75-3.75-.75,3.75a.26.26,0,0,0,0,.2.31.31,0,0,0,.08.1l.11.06h0Zm.1.78-.17,0Zm3.94-9a1,1,0,0,1,.3-.06A1,1,0,0,0,12.18,11.76Zm-.37.22a1,1,0,0,1,.22-.16A1,1,0,0,0,11.81,12Zm.69-.34a1.06,1.06,0,0,0-1.06,1v.9a5.11,5.11,0,0,0,.28,1.76l1.06,4.34a.22.22,0,0,1-.14.27h0l-.11,0a.28.28,0,0,1-.24-.14L10.92,16a.58.58,0,0,0-.54-.37h0a.58.58,0,0,0-.55.39L8.63,19.83a.28.28,0,0,1-.25.15l-.1,0a.25.25,0,0,1-.16-.13.2.2,0,0,1,0-.15L9.05,15a3.43,3.43,0,0,0,.18-1l0-1.29c0-.56-.67-1-1.25-1.06a15.29,15.29,0,0,1-2.11-.22l-.64-.1a.28.28,0,0,1-.19-.1A.2.2,0,0,1,5,11a.25.25,0,0,1,.25-.19h0a53.7,53.7,0,0,0,5.88.37,23.88,23.88,0,0,0,4.11-.31h.06a.27.27,0,0,1,.25.18.2.2,0,0,1,0,.15.25.25,0,0,1-.17.11h-.08A15,15,0,0,1,12.5,11.64Zm-1.65,4.42a.52.52,0,0,0-.08-.13A.52.52,0,0,1,10.86,16.07Zm-1.66-3.4,0,1.29q0,.13,0,.26a3.4,3.4,0,0,1-.08.47,3.4,3.4,0,0,0,.08-.47q0-.13,0-.26ZM5,10.92l0,0Zm10.58,0,0,0Zm-.2-.09h0Zm.11,0,0,0Zm-.21,0-.45.07Zm-4.09.31h0Zm.49,0h0Zm.58,0h0Zm.56,0,.3,0Zm.54,0,.3,0Zm.52,0,.3,0Zm.5-.05.32,0Zm-3.56-.53h0Zm-4.43.44-.26,0Zm-.09-.7.29,0Zm.86.08.32,0Zm.81.06.32,0Zm.77,0,.32,0Zm.73,0h0Zm.69,0h0Zm.59.7h0Zm-.66,0h0Zm-.68,0h0Zm-.71,0-.32,0ZM8,11l-.31,0ZM7.18,11l-.29,0Zm-1.86-.18h0Zm-.23.06,0,0Zm.1,0h0ZM5,10.11l.1,0Zm-.17.06.1,0Zm1,1.28a15.3,15.3,0,0,0,1.59.2,15.3,15.3,0,0,1-1.59-.2l-.64-.1ZM8.52,20h0Zm-.13,0h0Zm.23-.1,0,0Zm0,.77-.18,0Zm0-.87L9.26,18l-.58,1.88h0Zm1.23-3.9h0Zm.41-.21h0Zm-.15,0h0Zm-.14.07h0Zm.71.06-.08-.07Zm-.13-.1-.08,0ZM12.26,20l0,0Zm.12.07h0Zm-.16-7.45,0,0Zm.11-.11,0,0Zm.1,0h0Zm2.22-.9q-.71.11-1.43.15Q13.94,11.64,14.65,11.53Zm.94-1.36.12,0Zm-.05,0-.18,0h0Zm.47.22-.08-.06Zm-.14-.1-.1,0Zm-.71-.12-.33.06Zm-3.82.3h0Zm.63,0h0Zm.58,0,.31,0Zm.54,0,.29,0Zm.49,0,.27,0Zm.45,0,.25,0Zm.41,0,.25,0Zm-9.06-.17h0Zm-.59.11-.09.05Zm-.15.1-.08.07Zm-.13.12-.07.09Zm-.11.14-.06.11Zm-.08.16a1,1,0,0,0-.05.18A1,1,0,0,1,4.32,10.72Zm-.07.36h0Zm3.14,8.37.93-4.68-.93,4.68a1,1,0,0,0,0,.19A1,1,0,0,1,7.39,19.45Zm.05.74a1,1,0,0,0,.1.16A1,1,0,0,1,7.44,20.19Zm.14.2.11.11Zm.45.31-.13-.06Zm-.17-.08-.15-.1Zm.42.13h0Zm.4,0,.18-.07Zm3.79,0h0Zm.19,0,.18,0Zm.85-1.28h0L13,17.27l.54,2.18Zm-.28-7.07.76-.06Zm3-.75a1,1,0,0,1-.13.16,1,1,0,0,0,.13-.16,1,1,0,0,0,.09-.18A1,1,0,0,1,16.21,11.64Zm0-1.08.06.1Zm.16.32a1,1,0,0,0-.07-.17,1,1,0,0,1,.07.17,1,1,0,0,1,0,.2A1,1,0,0,0,16.34,10.88Z" style="fill:#fff"/><path d="M19.68,9.38a.43.43,0,0,0-.43.43V21.18a1.83,1.83,0,0,1-1.77,2H2.86a2,2,0,0,1-2-2V5.65a2,2,0,0,1,2-2H14.09a.43.43,0,0,0,.07-.86H2.86A2.87,2.87,0,0,0,0,5.65V21.18A2.87,2.87,0,0,0,2.86,24H4l.12,0H17.47a2.67,2.67,0,0,0,2.64-2.86V9.81A.43.43,0,0,0,19.68,9.38Zm-.37,11.8V9.81a.37.37,0,0,1,.37-.37h0a.37.37,0,0,0-.37.37V21.18a1.89,1.89,0,0,1-1.83,2.06h0A1.89,1.89,0,0,0,19.31,21.18ZM14,3.59h0Zm.29-.08h0Zm-.11.06h0Zm.21-.17h0Zm-.32-.55h0ZM2.86,24a2.81,2.81,0,0,1-2.8-2.8V5.65a2.81,2.81,0,0,1,2.8-2.79h0A2.81,2.81,0,0,0,.06,5.65V21.18A2.81,2.81,0,0,0,2.86,24Zm1,0Z" style="fill:#fff"/><path d="M21.55,2.93v0a.42.42,0,0,0-.3-.12h0a.42.42,0,0,0-.3.13L19.16,4.69,18.47,4a.43.43,0,0,0-.6,0,.43.43,0,0,0,0,.6l1,1a.42.42,0,0,0,.6,0l2.06-2.06a.42.42,0,0,0,0-.58Zm-.11,0,.06,0Zm-.2-.06h0Zm.18.05,0,0Zm-.07,0h0ZM18.42,4l.73.73L21,3l.06,0L21,3,19.16,4.78,18.42,4a.37.37,0,0,0-.26-.1A.37.37,0,0,1,18.42,4Zm-.52.52a.37.37,0,0,1,0-.52A.37.37,0,0,1,18,4a.37.37,0,0,0-.12.08.37.37,0,0,0,0,.52l1,1,.06,0-.06,0Zm1.26,1.08h0ZM19,5.59l0,0Zm.08,0h0Z" style="fill:#fff"/><path d="M19.7.2h0a4.05,4.05,0,1,0,4.05,4.05A4.06,4.06,0,0,0,19.7.2Zm3.68,2.5a4,4,0,0,0-1.14-1.53A4,4,0,0,1,23.38,2.7ZM19.7,1a3.2,3.2,0,0,1,0,6.41h0A3.2,3.2,0,0,1,19.7,1Zm3.23,2.76s0,.07,0,.11S22.94,3.84,22.93,3.81ZM22.7,3V3Zm.1.26,0,.06Zm.08.28,0,.1Zm-3-2.5h0Zm.35,0,.12,0Zm.34.08.09,0Zm.33.11.06,0Zm.31.14,0,0Zm.29.17h0Zm-5,3.16s0-.07,0-.11S16.47,4.66,16.47,4.69Zm.22.83,0,0Zm-.19-.61,0,.1Zm.08.31,0,.09Zm.81,1.34,0,0Zm-.18-.2,0,0ZM17,6.11l0,0Zm2.5,1.39h0Zm-.34,0-.14,0Zm-.33-.07-.13,0Zm-.32-.1-.11,0Zm-.31-.14-.08,0ZM17.94,7l-.06,0Zm-.27-.2,0,0ZM21.93.94a4,4,0,0,0-.68-.37A4,4,0,0,1,21.93.94Z" style="fill:#fff"/></svg>
          </th>
          <th mat-sort-header="score">
            {{ "DIRECTORIES.table.score" | translate }}
          </th>
          <th mat-sort-header="websites">
            {{ "DIRECTORIES.table.websites" | translate }}
          </th>
          <th colspan="3">
            {{ "DIRECTORIES.table.levels" | translate }}
          </th>
        </tr>
        <tr>
          <th colspan="6"></th>
          <th class="aright" mat-sort-header="A">
            {{ "DIRECTORIES.table.A" | translate }}
          </th>
          <th mat-sort-header="AA">
            {{ "DIRECTORIES.table.AA" | translate }}
          </th>
          <th mat-sort-header="AAA">
            {{ "DIRECTORIES.table.AAA" | translate }}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let tag of sortedData">
          <td>{{ tag.rank }}</td>
          <td class="name">
            <a [routerLink]="[tag.id]">{{ tag.name }}</a>
          </td>
          <td>{{ tag.declarations }}</td>
          <td>{{ tag.stamps }}</td>
          <td>{{ tag.score | toFixed }}</td>
          <td>{{ tag.nWebsites }}</td>
          <td>{{ tag.A }}</td>
          <td>{{ tag.AA }}</td>
          <td>{{ tag.AAA }}</td>
        </tr>
      </tbody>
    </table>
    <span class="note">
      {{ "DIRECTORY.table.note" | translate }}
    </span>
  </div>
</section>